<th:block xmlns:th="http://www.thymeleaf.org" th:fragment="form-header(title, entity)">
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
                <i th:class="'fa fa-' + (${entity} ?: 'file') + ' me-2'"></i>
                <span th:text="${title}">Título del Formulario</span>
            </h5>
        </div>
        <div class="card-body">
            <!-- Mensaje de error general -->
            <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

            <!-- Formulario -->
            <form th:object="${form}" method="post" enctype="multipart/form-data">
                <!-- Campos específicos del formulario se incluirán aquí -->
                <th:block th:fragment="fields">
                    <!-- Las páginas específicas deben sobreescribir esto -->
                </th:block>

                <!-- Botones de acción -->
                <div class="d-flex justify-content-end gap-2 mt-4">
                    <a th:href="${cancelUrl ?: '/'}" class="btn btn-outline-secondary">
                        <i class="fa fa-times me-1"></i> Cancelar
                    </a>
                    <button type="submit" class="btn btn-primary">
                        <i class="fa fa-save me-1"></i> Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>
</th:block>